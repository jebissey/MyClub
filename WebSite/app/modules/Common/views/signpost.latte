{layout '../../Common/views/layout.latte'}

{block navbar}
<div class="container-fluid d-flex align-items-center">
    <div class="d-flex gap-2">
        <a class="navbar-brand" href="/">
            <img src="/app/images/home.png" alt="Home">
        </a>
        <button class="btn btn-primary fs-5" onclick="history.back()">
            <i class="bi bi-arrow-left-circle"></i>
        </button>
    </div>
</div>
{/block}

{block content}
<div class="container mt-4">

    <h1 class="mb-1">Que souhaitez-vous faire ?</h1>
    <p class="text-muted mb-4">
        SÃ©lectionnez une action ci-dessous pour commencer.
    </p>

    {if !$isMember}

        <h6 class="text-muted fw-bold mb-3 small">
            ğŸŒ L'espace public
        </h6>

        <div class="row g-4">

            {include 'CardAction.latte',
                href: '/contact',
                icon: 'âœ‰ï¸',
                title: 'Contacter le Club',
                desc: 'Envoyer un message aux responsables'}

            {include 'CardAction.latte',
                href: '/user/sign/in',
                icon: 'ğŸ‘»',
                title: 'Me connecter',
                desc: 'AccÃ©der Ã  mon espace membre'}

            {include 'CardAction.latte',
                href: '/articles',
                icon: 'ğŸ“„',
                title: 'Rechercher un article',
                desc: 'Trouver des articles du club'}

            {include 'CardAction.latte',
                href: '/weekEvents',
                icon: 'ğŸ“…',
                title: 'Voir le calendrier',
                desc: 'Visualiser les Ã©vÃ©nements Ã  venir'}

        </div>

    {/if}


    {if $isMember}

        {if $isAdmin}
            <ul class="nav nav-tabs mb-0">
                <li class="nav-item">
                    <button class="nav-link active"
                            data-bs-toggle="tab"
                            data-bs-target="#tab-member"
                            type="button">
                        ğŸ‘¤ Mon espace membre
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link"
                            data-bs-toggle="tab"
                            data-bs-target="#tab-roles"
                            type="button">
                        ğŸ”‘ Mes autorisations
                    </button>
                </li>
            </ul>
        {/if}

        <div class="{if $isAdmin}tab-content border border-top-0 rounded-bottom p-4 bg-light{else}border rounded p-4 bg-light{/if}">

            <div class="{if $isAdmin}tab-pane fade show active{/if}" id="tab-member">

                <h6 class="text-muted fw-bold mb-3 small">
                    ğŸ‘¥ Actions disponibles pour tous les membres
                </h6>

                <div class="row g-4">

                    {include 'CardAction.latte',
                        href: '/user/account',
                        icon: 'ğŸ‘¤',
                        title: 'Profil',
                        desc: 'Mettre Ã  jour mes informations'}

                    {include 'CardAction.latte',
                        href: '/user/statistics',
                        icon: 'ğŸ“Š',
                        title: 'Statistiques',
                        desc: 'Historique et activitÃ©'}

                    {include 'CardAction.latte',
                        href: '/user/connections',
                        icon: 'ğŸ•¸ï¸',
                        title: 'Connexions',
                        desc: 'Mes Ã©vÃ©nements en commun avec les autres membres'}

                    {include 'CardAction.latte',
                        href: '/articles',
                        icon: 'ğŸ“„',
                        title: 'Rechercher un article',
                        desc: 'Trouver des articles du club'}

                    {include 'CardAction.latte',
                        href: '/weekEvents',
                        icon: 'ğŸ“…',
                        title: 'Voir le calendrier',
                        desc: 'Consulter les Ã©vÃ©nements'}

                    {include 'CardAction.latte',
                        href: '/nextEvents',
                        icon: 'ğŸ“…',
                        title: "EvÃ©nements Ã  venir",
                        desc: "Consulter et mâ€™inscrire aux prochaines sÃ©ances"}

                    {include 'CardAction.latte',
                        href: '/user/directory',
                        icon: 'ğŸ­',
                        title: "Trombinoscope",
                        desc: 'Voir les membres du club et crÃ©er/modifier ma prÃ©sentation'}

                    {include 'CardAction.latte',
                        href: '/user/news',
                        icon: 'ğŸ“°',
                        title: "News",
                        desc: 'Voir les derniÃ¨res nouvelles du club (articles, Ã©vÃ©nements, sondages, prÃ©sentation ...)'}
                </div>
            </div>

            {* â”€â”€â”€â”€â”€ Onglet rÃ´les spÃ©ciaux â”€â”€â”€â”€â”€ *}
            {if $isAdmin}
            <div class="tab-pane fade" id="tab-roles">

                <div class="accordion" id="rolesAccordion">

                    {if $isEventManager}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEventManager">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapseEventManager">
                                ğŸ—“ï¸ Animateur
                            </button>
                        </h2>
                        <div id="collapseEventManager"
                            class="accordion-collapse collapse"
                            data-bs-parent="#rolesAccordion">
                            <div class="accordion-body">
                                <div class="row g-4">

                                    {include 'CardAction.latte',
                                        href: '/nextEvents',
                                        icon: 'ğŸ“…',
                                        title: 'GÃ©rer les sÃ©ances',
                                        desc: 'CrÃ©er, modifier, annuler une sÃ©ance et suivre les inscriptions'}

                                    {include 'CardAction.latte',
                                        href: '/events/guest',
                                        icon: 'ğŸ“©',
                                        title: 'Envoyer une invitation',
                                        desc: 'Envoyer une invitation Ã  une personne non membre du club pour une sÃ©ance'}

                                    {include 'CardAction.latte',
                                        href: '/events/crossTab',
                                        icon: 'ğŸ§®',
                                        title: 'Statistiques animateurs',
                                        desc: 'Voir les statistiques des animateurs du club (nombre de sÃ©ances animÃ©es par types et participants'}

                                </div>
                            </div>
                        </div>
                    </div>
                    {/if}

                    {if $isDesigner}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingDesigner">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapseDesigner">
                                ğŸ¨ Designer
                            </button>
                        </h2>
                        <div id="collapseDesigner"
                            class="accordion-collapse collapse"
                            data-bs-parent="#rolesAccordion">
                            <div class="accordion-body">
                                <div class="row g-4">
                                    {if $isEventDesigner}
                                    {include 'CardAction.latte',
                                        href: '/eventTypes',
                                        icon: 'ğŸ—“ï¸',
                                        title: "Types d'Ã©vÃ©nements et leurs attributs",
                                        desc: "DÃ©finir les types d'Ã©vÃ©nements du club et les attributs associÃ©s"}

                                    {include 'CardAction.latte',
                                        href: '/needs',
                                        icon: 'ğŸ“‹',
                                        title: "Les besoins d'une sÃ©ance",
                                        desc: "DÃ©finir les besoins associÃ©s Ã  chaque type d'Ã©vÃ©nement du club"}
                                    {/if}
                                    {if $isHomeDesigner}
                                    {include 'CardAction.latte',
                                        href: '/settings',
                                        icon: 'ğŸ”§',
                                        title: "ParamÃ¨tres du site",
                                        desc: "DÃ©finir les paramÃ¨tres gÃ©nÃ©raux du site web du club et la(les) langues disponibles"}
                                    {/if}
                                    {if $isKanbanDesigner}
                                    {include 'CardAction.latte',
                                        href: '/kanban',
                                        icon: 'ğŸŸ¨',
                                        title: "Kanban",
                                        desc: "GÃ©rer des projets via des tableaux Kanban"}
                                    {/if}
                                    {if $isNavbarDesigner}
                                    {include 'CardAction.latte',
                                        href: '/navbar',
                                        icon: 'ğŸ“‘',
                                        title: "Navigation",
                                        desc: "GÃ©rer les barres de navigation du site web du club"}
                                    {/if}
                                </div>
                            </div>
                        </div>
                    </div>
                    {/if}

                    {if $isRedactor}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingRedactor">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapseRedactor">
                                âœï¸ RÃ©dacteur
                            </button>
                        </h2>
                        <div id="collapseRedactor"
                            class="accordion-collapse collapse"
                            data-bs-parent="#rolesAccordion">
                            <div class="accordion-body">
                                <div class="row g-4">

                                    {include 'CardAction.latte',
                                        href: '/articles',
                                        icon: 'ğŸ“°',
                                        title: 'Article',
                                        desc: 'RÃ©diger et publier un nouvel article'}

                                    {include 'CardAction.latte',
                                        href: 'media/list',
                                        icon: 'ğŸ“‚',
                                        title: 'Medias',
                                        desc: 'GÃ©rer les mÃ©dias du club (photos, documents ...)'}

                                    {include 'CardAction.latte',
                                        href: 'topArticles',
                                        icon: 'ğŸ“ˆ',
                                        title: 'Articles populaires',
                                        desc: 'Voir les articles les plus populaires du club par pÃ©riode'}

                                    {include 'CardAction.latte',
                                        href: '/articles/crossTab',
                                        icon: 'ğŸ§®',
                                        title: 'Statistiques rÃ©dacteurs',
                                        desc: "Voir les statistiques des rÃ©dacteurs du club (nombre d'articles publiÃ©s par rÃ©dacteur et par pÃ©riode"}

                                </div>
                            </div>
                        </div>
                    </div>
                    {/if}

                    {if $isPersonManager}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingPersonManager">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapsePersonManager">
                                ğŸ“‡ SecrÃ©taire
                            </button>
                        </h2>
                        <div id="collapsePersonManager"
                            class="accordion-collapse collapse"
                            data-bs-parent="#rolesAccordion">
                            <div class="accordion-body">
                                <div class="row g-4">

                                    {include 'CardAction.latte',
                                        href: '/persons',
                                        icon: 'ğŸ‘¥',
                                        title: 'GÃ©rer les membres',
                                        desc: 'Consulter et administrer les adhÃ©rents'}

                                    {include 'CardAction.latte',
                                        href: '/groups',
                                        icon: 'ğŸ‘«',
                                        title: 'GÃ©rer les groupes',
                                        desc: 'Consulter et administrer les groupes (sans autorisation) de membres'}

                                    {include 'CardAction.latte',
                                        href: '/registration',
                                        icon: 'ğŸŸï¸',
                                        title: 'GÃ©rer les inscriptions',
                                        desc: 'Consulter et administrer les inscriptions des adhÃ©rents aux groupes sans autorisation'}

                                    {include 'CardAction.latte',
                                        href: '/import',
                                        icon: 'ğŸ“¥',
                                        title: 'Importer des membres',
                                        desc: 'Importer des adhÃ©rents Ã  partir dâ€™un fichier CSV'}

                                </div>
                            </div>
                        </div>
                    </div>
                    {/if}

                    {if $isVisitorInsights}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingVisitorInsights">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapseVisitorInsights">
                                ğŸ” Observateur
                            </button>
                        </h2>
                        <div id="collapseVisitorInsights"
                            class="accordion-collapse collapse"
                            data-bs-parent="#rolesAccordion">
                            <div class="accordion-body">
                                <div class="row g-4">

                                    {include 'CardAction.latte',
                                        href: '/referents',
                                        icon: 'â˜ï¸',
                                        title: 'Site rÃ©fÃ©rents',
                                        desc: "Voir d'oÃ¹ viennent les visiteurs du site web du club"}

                                    {include 'CardAction.latte',
                                        href: 'topPages',
                                        icon: 'ğŸ“ˆ',
                                        title: 'Pages populaires',
                                        desc: 'Voir les pages les plus populaires du club par pÃ©riode'}

                                    {include 'CardAction.latte',
                                        href: '/crossTab',
                                        icon: 'ğŸ§®',
                                        title: 'Statistiques visiteurs (membres)',
                                        desc: "Voir les statistiques des visiteurs du site web du club (nombre de pages vues par visiteur et par pÃ©riode"}

                                    {include 'CardAction.latte',
                                        href: '/logs',
                                        icon: 'ğŸ“‹',
                                        title: 'Logs visiteurs',
                                        desc: "Voir les logs des visiteurs du site web du club"}

                                    {include 'CardAction.latte',
                                        href: '/visitorsGraf',
                                        icon: 'ğŸ“Š',
                                        title: 'Graphiques visiteurs',
                                        desc: "Voir les graphiques des visiteurs du site web du club"}

                                    {include 'CardAction.latte',
                                        href: '/analytics',
                                        icon: 'ğŸ¥§',
                                        title: 'Analyses des visiteurs',
                                        desc: "Voir les graphiques des visiteurs du site web du club (OS, navigateurs, matÃ©riel, rÃ©solution d'Ã©cran)"}

                                    {include 'CardAction.latte',
                                        href: '/lastVisits',
                                        icon: 'ğŸ‘ï¸',
                                        title: 'DerniÃ¨res visites',
                                        desc: "Voir la derniÃ¨re visites des membresdu club"}

                                </div>
                            </div>
                        </div>
                    </div>
                    {/if}


                    {* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Webmaster â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ *}
                    {if $isWebmaster}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingWebmaster">
                            <button class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapseWebmaster">
                                ğŸ› ï¸ Webmaster
                            </button>
                        </h2>
                        <div id="collapseWebmaster"
                            class="accordion-collapse collapse"
                            data-bs-parent="#rolesAccordion">
                            <div class="accordion-body">
                                <div class="row g-4">

                                    {include 'CardAction.latte',
                                        href: '/webmaster',
                                        icon: 'âš™ï¸',
                                        title: 'Configuration site',
                                        desc: 'ParamÃ¨tres techniques'}

                                </div>
                            </div>
                        </div>
                    </div>
                    {/if}

                </div>

            </div>
            {/if}

        </div>
    {/if}

</div>
{/block}