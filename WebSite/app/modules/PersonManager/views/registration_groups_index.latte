{extends $layout}

{block title}Inscriptions{/block}

{block content}
    <h2>Inscription aux groupes</h2>    
    {include '../../Common/views/dataTable.latte',
        'columns' => [
            ['field' => 'LastName', 'label' => 'Nom'],
            ['field' => 'FirstName', 'label' => 'PrÃ©nom'],
            ['field' => 'NickName', 'label' => 'Surnom'],
        ],
        'items' => $persons,
        'actions' => [
            [
                'type' => 'button',
                'label' => 'bi bi-people',
                'class' => 'btn-primary',
                'onClick' => 'showGroups({id})'
            ]
        ],
        'modal' => [
            'id' => 'groupsModal',
            'title' => 'Gestion des groupes',
            'contentId' => 'groupsContent'
        ]
    }
{/block}

{block scripts}
    <script src="/app/modules/PersonManager/js/registrationIndex.js"></script>
    <script type="module">
    import {
        initGroups,
        showGroups,
        addToGroup,
        removeFromGroup
    } from '/app/modules/PersonManager/js/GroupsModule.js';

    initGroups();

    window.showGroups = showGroups;
    window.addToGroup = addToGroup;
    window.removeFromGroup = removeFromGroup;
</script>

{/block}